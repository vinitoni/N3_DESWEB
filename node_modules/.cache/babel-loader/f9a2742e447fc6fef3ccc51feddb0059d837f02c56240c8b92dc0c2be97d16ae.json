{"ast":null,"code":"import { getAuth, signInWithPopup, GoogleAuthProvider, GithubAuthProvider, signInWithEmailAndPassword, createUserWithEmailAndPassword, updateProfile, signOut } from \"firebase/auth\";\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, doc, setDoc, getDoc } from \"firebase/firestore\";\n\n// Configuração do Firebase\nconst firebaseConfig = {\n  apiKey: \"YOUR_API_KEY\",\n  authDomain: \"YOUR_AUTH_DOMAIN\",\n  projectId: \"YOUR_PROJECT_ID\",\n  storageBucket: \"YOUR_STORAGE_BUCKET\",\n  messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n  appId: \"YOUR_APP_ID\"\n};\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth();\nconst db = getFirestore(app);\nexport const signInWithGoogle = async () => {\n  const provider = new GoogleAuthProvider();\n  const result = await signInWithPopup(auth, provider);\n  const user = result.user;\n  const userDoc = await getDoc(doc(db, \"users\", user.uid));\n  if (!userDoc.exists()) {\n    await setDoc(doc(db, \"users\", user.uid), {\n      name: user.displayName,\n      email: user.email,\n      isAdmin: false // Define padrão como usuário comum\n    });\n  }\n  return user;\n};\nexport const loginWithEmail = async (email, password) => {\n  const userCredential = await signInWithEmailAndPassword(auth, email, password);\n  return userCredential.user;\n};\nexport const registerWithEmailAndPassword = async (name, email, password, isAdmin = false) => {\n  const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n  const user = userCredential.user;\n  await updateProfile(user, {\n    displayName: name\n  });\n  await setDoc(doc(db, \"users\", user.uid), {\n    name,\n    email,\n    isAdmin\n  });\n  return user;\n};\nexport const getUserData = async uid => {\n  const userDoc = await getDoc(doc(db, \"users\", uid));\n  return userDoc.exists() ? userDoc.data() : null;\n};\nexport const logout = async () => {\n  return signOut(auth);\n};","map":{"version":3,"names":["getAuth","signInWithPopup","GoogleAuthProvider","GithubAuthProvider","signInWithEmailAndPassword","createUserWithEmailAndPassword","updateProfile","signOut","initializeApp","getFirestore","doc","setDoc","getDoc","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","auth","db","signInWithGoogle","provider","result","user","userDoc","uid","exists","name","displayName","email","isAdmin","loginWithEmail","password","userCredential","registerWithEmailAndPassword","getUserData","data","logout"],"sources":["C:/N3_DESWEB/LoginDashboardProject/src/utils/auth.js"],"sourcesContent":["import {\n  getAuth,\n  signInWithPopup,\n  GoogleAuthProvider,\n  GithubAuthProvider,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  updateProfile,\n  signOut,\n} from \"firebase/auth\";\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, doc, setDoc, getDoc } from \"firebase/firestore\";\n\n// Configuração do Firebase\nconst firebaseConfig = {\n  apiKey: \"YOUR_API_KEY\",\n  authDomain: \"YOUR_AUTH_DOMAIN\",\n  projectId: \"YOUR_PROJECT_ID\",\n  storageBucket: \"YOUR_STORAGE_BUCKET\",\n  messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n  appId: \"YOUR_APP_ID\",\n};\n\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth();\nconst db = getFirestore(app);\n\nexport const signInWithGoogle = async () => {\n  const provider = new GoogleAuthProvider();\n  const result = await signInWithPopup(auth, provider);\n  const user = result.user;\n\n  const userDoc = await getDoc(doc(db, \"users\", user.uid));\n  if (!userDoc.exists()) {\n    await setDoc(doc(db, \"users\", user.uid), {\n      name: user.displayName,\n      email: user.email,\n      isAdmin: false, // Define padrão como usuário comum\n    });\n  }\n\n  return user;\n};\n\nexport const loginWithEmail = async (email, password) => {\n  const userCredential = await signInWithEmailAndPassword(auth, email, password);\n  return userCredential.user;\n};\n\nexport const registerWithEmailAndPassword = async (name, email, password, isAdmin = false) => {\n  const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n  const user = userCredential.user;\n\n  await updateProfile(user, { displayName: name });\n\n  await setDoc(doc(db, \"users\", user.uid), {\n    name,\n    email,\n    isAdmin,\n  });\n\n  return user;\n};\n\nexport const getUserData = async (uid) => {\n  const userDoc = await getDoc(doc(db, \"users\", uid));\n  return userDoc.exists() ? userDoc.data() : null;\n};\n\nexport const logout = async () => {\n  return signOut(auth);\n};\n"],"mappings":"AAAA,SACEA,OAAO,EACPC,eAAe,EACfC,kBAAkB,EAClBC,kBAAkB,EAClBC,0BAA0B,EAC1BC,8BAA8B,EAC9BC,aAAa,EACbC,OAAO,QACF,eAAe;AACtB,SAASC,aAAa,QAAQ,cAAc;AAC5C,SAASC,YAAY,EAAEC,GAAG,EAAEC,MAAM,EAAEC,MAAM,QAAQ,oBAAoB;;AAEtE;AACA,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,cAAc;EACtBC,UAAU,EAAE,kBAAkB;EAC9BC,SAAS,EAAE,iBAAiB;EAC5BC,aAAa,EAAE,qBAAqB;EACpCC,iBAAiB,EAAE,0BAA0B;EAC7CC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,GAAG,GAAGZ,aAAa,CAACK,cAAc,CAAC;AACzC,MAAMQ,IAAI,GAAGrB,OAAO,CAAC,CAAC;AACtB,MAAMsB,EAAE,GAAGb,YAAY,CAACW,GAAG,CAAC;AAE5B,OAAO,MAAMG,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EAC1C,MAAMC,QAAQ,GAAG,IAAItB,kBAAkB,CAAC,CAAC;EACzC,MAAMuB,MAAM,GAAG,MAAMxB,eAAe,CAACoB,IAAI,EAAEG,QAAQ,CAAC;EACpD,MAAME,IAAI,GAAGD,MAAM,CAACC,IAAI;EAExB,MAAMC,OAAO,GAAG,MAAMf,MAAM,CAACF,GAAG,CAACY,EAAE,EAAE,OAAO,EAAEI,IAAI,CAACE,GAAG,CAAC,CAAC;EACxD,IAAI,CAACD,OAAO,CAACE,MAAM,CAAC,CAAC,EAAE;IACrB,MAAMlB,MAAM,CAACD,GAAG,CAACY,EAAE,EAAE,OAAO,EAAEI,IAAI,CAACE,GAAG,CAAC,EAAE;MACvCE,IAAI,EAAEJ,IAAI,CAACK,WAAW;MACtBC,KAAK,EAAEN,IAAI,CAACM,KAAK;MACjBC,OAAO,EAAE,KAAK,CAAE;IAClB,CAAC,CAAC;EACJ;EAEA,OAAOP,IAAI;AACb,CAAC;AAED,OAAO,MAAMQ,cAAc,GAAG,MAAAA,CAAOF,KAAK,EAAEG,QAAQ,KAAK;EACvD,MAAMC,cAAc,GAAG,MAAMhC,0BAA0B,CAACiB,IAAI,EAAEW,KAAK,EAAEG,QAAQ,CAAC;EAC9E,OAAOC,cAAc,CAACV,IAAI;AAC5B,CAAC;AAED,OAAO,MAAMW,4BAA4B,GAAG,MAAAA,CAAOP,IAAI,EAAEE,KAAK,EAAEG,QAAQ,EAAEF,OAAO,GAAG,KAAK,KAAK;EAC5F,MAAMG,cAAc,GAAG,MAAM/B,8BAA8B,CAACgB,IAAI,EAAEW,KAAK,EAAEG,QAAQ,CAAC;EAClF,MAAMT,IAAI,GAAGU,cAAc,CAACV,IAAI;EAEhC,MAAMpB,aAAa,CAACoB,IAAI,EAAE;IAAEK,WAAW,EAAED;EAAK,CAAC,CAAC;EAEhD,MAAMnB,MAAM,CAACD,GAAG,CAACY,EAAE,EAAE,OAAO,EAAEI,IAAI,CAACE,GAAG,CAAC,EAAE;IACvCE,IAAI;IACJE,KAAK;IACLC;EACF,CAAC,CAAC;EAEF,OAAOP,IAAI;AACb,CAAC;AAED,OAAO,MAAMY,WAAW,GAAG,MAAOV,GAAG,IAAK;EACxC,MAAMD,OAAO,GAAG,MAAMf,MAAM,CAACF,GAAG,CAACY,EAAE,EAAE,OAAO,EAAEM,GAAG,CAAC,CAAC;EACnD,OAAOD,OAAO,CAACE,MAAM,CAAC,CAAC,GAAGF,OAAO,CAACY,IAAI,CAAC,CAAC,GAAG,IAAI;AACjD,CAAC;AAED,OAAO,MAAMC,MAAM,GAAG,MAAAA,CAAA,KAAY;EAChC,OAAOjC,OAAO,CAACc,IAAI,CAAC;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}